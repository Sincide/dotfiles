// AGS Main Stylesheet with Matugen Integration
// Import dynamic theme variables generated by matugen
@use "theme.scss";

// Global Reset and Base Styles
* {
    all: unset;
    box-sizing: border-box;
    font-family: "JetBrains Mono", "Symbols Nerd Font", monospace;
    font-size: 12px;
    border-radius: 8px;
}

// Fallback colors (only used if matugen theme.scss is not generated)
:root:not([data-matugen-theme]) {
    --bg-primary: #1e1e2e;
    --bg-secondary: #313244;
    --bg-tertiary: #45475a;
    --text-primary: #cdd6f4;
    --text-secondary: #bac2de;
    --accent: #89b4fa;
    --accent-hover: #7aa2f7;
    --success: #a6e3a1;
    --warning: #f9e2af;
    --error: #f38ba8;
    --border: #585b70;
    --shadow: rgba(0, 0, 0, 0.3);
}

// ================== TOP BAR ==================
.top-bar {
    background: var(--bar-bg, linear-gradient(135deg, var(--surface-container), var(--surface-container-high)));
    border-bottom: 2px solid var(--border, var(--outline-variant));
    box-shadow: 0 2px 10px var(--shadow);
    
    .bar-container {
        padding: 4px 12px;
        min-height: 32px;
    }
    
    .bar-left, .bar-center, .bar-right {
        padding: 0 8px;
    }
    
    // Menu and Toggle Buttons
    .menu-button, .sidebar-toggle, .notifications-button {
        background: var(--surface-variant, var(--bg-secondary));
        color: var(--text-primary, var(--on-surface));
        padding: 6px 12px;
        margin: 2px;
        border: 1px solid var(--border, var(--outline-variant));
        transition: all 0.2s ease;
        
        &:hover {
            background: var(--accent, var(--primary));
            color: var(--on-accent, var(--on-primary));
            transform: translateY(-1px);
            box-shadow: 0 4px 8px var(--shadow);
        }
        
        &:active {
            transform: translateY(0);
        }
    }
}

// ================== SIDEBAR ==================
.sidebar {
    background: var(--sidebar-bg, linear-gradient(180deg, 
        var(--surface) 0%, 
        var(--surface-container) 50%, 
        var(--surface-container-high) 100%));
    border-right: 2px solid var(--border, var(--outline-variant));
    box-shadow: 4px 0 20px var(--shadow);
    min-width: 350px;
    
    .sidebar-container {
        padding: 16px;
        margin: 8px;
    }
    
    .sidebar-header {
        padding: 8px 0 16px 0;
        border-bottom: 1px solid var(--border);
        margin-bottom: 16px;
        
        .sidebar-title {
            font-size: 16px;
            font-weight: bold;
            color: var(--text-primary);
        }
        
        .sidebar-close {
            background: var(--error);
            color: white;
            padding: 4px 8px;
            min-width: 24px;
            min-height: 24px;
            
            &:hover {
                background: color-mix(in srgb, var(--error) 90%, white 10%);
                transform: scale(1.1);
            }
        }
    }
    
    .control-section {
        background: var(--surface-container, var(--bg-secondary));
        padding: 12px;
        margin: 4px 0;
        border: 1px solid var(--outline-variant, var(--border));
        border-radius: 12px;
        
        .section-title {
            font-size: 11px;
            font-weight: bold;
            color: var(--on-surface-variant, var(--text-secondary));
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 8px;
        }
    }
    
    // Volume Control
    .volume-control {
        .volume-icon {
            background: var(--bg-tertiary);
            color: var(--accent);
            padding: 8px;
            border: 1px solid var(--border);
            
            &:hover {
                background: var(--accent);
                color: var(--bg-primary);
            }
        }
        
        .volume-slider {
            trough {
                background: var(--bg-tertiary);
                border: 1px solid var(--border);
                min-height: 8px;
            }
            
            slider {
                background: var(--accent);
                border: 2px solid white;
                min-width: 16px;
                min-height: 16px;
                
                &:hover {
                    background: var(--accent-hover);
                    transform: scale(1.2);
                }
            }
            
            highlight {
                background: linear-gradient(90deg, var(--accent), var(--accent-hover));
            }
        }
        
        .volume-percentage {
            color: var(--text-secondary);
            font-size: 11px;
            min-width: 40px;
            text-align: right;
        }
    }
    
    // System Stats
    .system-stats {
        .stat-item {
            padding: 8px;
            margin: 4px 0;
            background: var(--bg-tertiary);
            border-radius: 8px;
            
            icon {
                color: var(--accent);
                min-width: 20px;
                font-size: 14px;
            }
            
            .stat-value {
                font-family: "JetBrains Mono", monospace;
                font-weight: bold;
                color: var(--text-primary);
            }
            
            progressbar {
                trough {
                    background: var(--bg-primary);
                    border: 1px solid var(--border);
                    min-height: 6px;
                }
                
                &.cpu-progress progress {
                    background: linear-gradient(90deg, var(--success), var(--warning));
                }
                
                &.memory-progress progress {
                    background: linear-gradient(90deg, var(--accent), var(--accent-hover));
                }
            }
        }
    }
}

// ================== APPLICATION LAUNCHER ==================
.launcher {
    background: var(--launcher-bg, var(--surface-container-highest));
    border: 2px solid var(--outline-variant, var(--border));
    border-radius: 16px;
    box-shadow: 0 8px 32px var(--shadow);
    margin: 50px auto;
    min-width: 600px;
    max-width: 800px;
    
    .launcher-container {
        padding: 20px;
        
        .launcher-search {
            background: var(--bg-secondary);
            color: var(--text-primary);
            border: 2px solid var(--border);
            padding: 12px 16px;
            font-size: 14px;
            border-radius: 12px;
            
            &:focus {
                border-color: var(--accent);
                box-shadow: 0 0 0 2px rgba(137, 180, 250, 0.2);
            }
            
            selection {
                background: var(--accent);
                color: var(--bg-primary);
            }
        }
        
        .launcher-list {
            max-height: 400px;
            scrollbar {
                trough {
                    background: var(--bg-secondary);
                }
                
                slider {
                    background: var(--accent);
                    border-radius: 8px;
                    
                    &:hover {
                        background: var(--accent-hover);
                    }
                }
            }
        }
        
        .launcher-app {
            background: var(--bg-secondary);
            color: var(--text-primary);
            padding: 12px 16px;
            margin: 4px 0;
            border: 1px solid transparent;
            border-radius: 8px;
            transition: all 0.15s ease;
            
            &:hover {
                background: var(--bg-tertiary);
                border-color: var(--border);
                transform: translateX(4px);
            }
            
            &.selected {
                background: var(--accent);
                color: var(--bg-primary);
                border-color: var(--accent-hover);
                transform: translateX(4px);
                box-shadow: 0 2px 8px var(--shadow);
            }
            
            .app-name {
                font-weight: bold;
                font-size: 13px;
            }
            
            .app-description {
                font-size: 11px;
                opacity: 0.7;
            }
        }
    }
}

// ================== NOTIFICATIONS ==================
.notifications {
    background: var(--bg-primary);
    border: 2px solid var(--border);
    border-radius: 12px;
    box-shadow: 0 4px 16px var(--shadow);
    min-width: 400px;
    max-width: 500px;
    
    .notification-item {
        background: var(--bg-secondary);
        border: 1px solid var(--border);
        margin: 8px;
        padding: 12px;
        border-radius: 8px;
        
        .notification-header {
            .notification-title {
                font-weight: bold;
                color: var(--text-primary);
            }
            
            .notification-time {
                color: var(--text-secondary);
                font-size: 10px;
            }
        }
        
        .notification-body {
            color: var(--text-primary);
            margin: 8px 0;
        }
        
        .notification-actions {
            button {
                background: var(--accent);
                color: var(--bg-primary);
                padding: 4px 8px;
                margin: 2px;
                font-size: 10px;
                
                &:hover {
                    background: var(--accent-hover);
                }
            }
        }
        
        &.critical {
            border-color: var(--error);
            background: rgba(243, 139, 168, 0.1);
        }
        
        &.low {
            opacity: 0.8;
        }
    }
}

// ================== BOTTOM BAR ==================
.bottom-bar {
    background: linear-gradient(45deg, var(--bg-primary), var(--bg-secondary));
    border-top: 2px solid var(--border);
    box-shadow: 0 -2px 10px var(--shadow);
    
    .bar-container {
        padding: 4px 12px;
        min-height: 32px;
    }
}

// ================== WORKSPACES ==================
.workspaces {
    .workspace {
        background: var(--workspace-inactive, var(--surface-variant));
        color: var(--on-surface-variant, var(--text-secondary));
        border: 1px solid var(--outline-variant, var(--border));
        margin: 2px;
        padding: 6px 12px;
        min-width: 30px;
        transition: all 0.2s ease;
        
        &.active {
            background: var(--workspace-active, var(--primary));
            color: var(--on-primary, var(--on-accent));
            font-weight: bold;
            transform: scale(1.1);
            box-shadow: 0 2px 8px var(--shadow);
        }
        
        &.occupied {
            background: var(--workspace-occupied, var(--secondary-container));
            color: var(--on-secondary-container, var(--text-primary));
        }
        
        &:hover {
            background: var(--primary-container, var(--accent-hover));
            color: var(--on-primary-container, var(--on-accent));
            transform: translateY(-2px);
        }
    }
}

// ================== ANIMATIONS ==================
* {
    transition: all 0.15s ease;
}

@keyframes slideIn {
    from {
        transform: translateX(-100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: scale(0.9);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

.sidebar {
    animation: slideIn 0.3s ease-out;
}

.launcher, .notifications {
    animation: fadeIn 0.2s ease-out;
}

// ================== RESPONSIVE DESIGN ==================
@media (max-width: 1920px) {
    .sidebar {
        min-width: 300px;
    }
}

@media (max-width: 1366px) {
    .sidebar {
        min-width: 280px;
    }
    
    .launcher {
        min-width: 500px;
    }
} 