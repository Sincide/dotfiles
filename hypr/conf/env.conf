# Hyprland Environment Variables Configuration
# All environment variables for application compatibility and optimization

# ====================
# XDG DESKTOP ENVIRONMENT STANDARDS
# ====================
env = XDG_CURRENT_DESKTOP,Hyprland     # Tell apps we're running Hyprland (for portal integration)
env = XDG_SESSION_TYPE,wayland          # Inform apps we're using Wayland, not X11
env = XDG_SESSION_DESKTOP,Hyprland      # Desktop session identifier for systemd and dbus

# ====================
# APPLICATION TOOLKIT BACKENDS
# ====================
env = GDK_BACKEND,wayland,x11           # GTK apps: try Wayland first, fallback to X11
env = QT_QPA_PLATFORM,wayland;xcb       # Qt apps: try Wayland first, fallback to X11 (xcb)
env = SDL_VIDEODRIVER,wayland           # SDL2 games/apps: use Wayland backend
env = CLUTTER_BACKEND,wayland           # Clutter toolkit: force Wayland backend

# ====================
# QT FRAMEWORK CONFIGURATION
# ====================
env = QT_QPA_PLATFORMTHEME,qt5ct        # Use qt5ct tool for Qt application theming
env = QT_STYLE_OVERRIDE,kvantum         # Override Qt widget style with Kvantum themes
env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1  # Disable Qt's built-in window decorations on Wayland
env = QT_AUTO_SCREEN_SCALE_FACTOR,1     # Enable automatic DPI scaling based on monitor settings
env = QT_WAYLAND_FORCE_DPI,physical     # Use physical DPI instead of logical DPI scaling

# ====================
# GTK FRAMEWORK CONFIGURATION
# ====================
env = GTK_ICON_THEME,Papirus-Dark       # Set default icon theme for all GTK applications
env = GTK_FONT_NAME,Noto Sans 11        # Set default font family and size for GTK apps
env = GTK_CSD,1                         # Enable Client-Side Decorations in GTK apps (1=on, 0=off)
env = GTK_OVERLAY_SCROLLING,1           # Enable overlay scrollbars in GTK apps (1=on, 0=off)

# ====================
# CURSOR THEME CONFIGURATION
# ====================
env = XCURSOR_THEME,Adwaita             # Set cursor theme name (must be installed in system)
env = XCURSOR_SIZE,24                   # Set cursor size in pixels (16, 24, 32, 48 common)

# ====================
# MOZILLA FIREFOX/THUNDERBIRD OPTIMIZATION
# ====================
env = MOZ_ENABLE_WAYLAND,1              # Force Mozilla apps to use Wayland instead of XWayland
env = MOZ_DBUS_REMOTE,1                 # Enable D-Bus remote control for Mozilla apps
env = MOZ_WEBRENDER,1                   # Enable WebRender GPU-accelerated rendering
env = MOZ_ACCELERATED,1                 # Enable hardware acceleration in Mozilla apps
env = MOZ_USE_XINPUT2,1                 # Use XInput2 for better input handling

# ====================
# JAVA APPLICATION COMPATIBILITY
# ====================
env = _JAVA_AWT_WM_NONREPARENTING,1     # Fix Java GUI apps not displaying properly in tiling WMs
env = JAVA_TOOL_OPTIONS,-Dawt.useSystemAAFontSettings=on  # Use system font antialiasing in Java

# ====================
# AMD GRAPHICS HARDWARE ACCELERATION
# ====================
env = LIBVA_DRIVER_NAME,radeonsi         # Set VA-API driver for AMD GPU video decode acceleration
env = VDPAU_DRIVER,radeonsi             # Set VDPAU driver for AMD GPU video acceleration
env = AMD_VULKAN_ICD,RADV               # Use Mesa RADV Vulkan driver for AMD GPUs
env = RADV_PERFTEST,gpl                 # Enable GPL-licensed optimizations in RADV (RDNA+ only)
env = mesa_glthread,true                # Enable Mesa threaded OpenGL for better performance

# ====================
# X11/WAYLAND COMPATIBILITY
# ====================
env = XWAYLAND_NO_GLAMOR,0              # Enable Glamor 2D acceleration in XWayland (0=on, 1=off)
env = WLR_DRM_NO_ATOMIC,1               # Disable atomic modesetting (1=disable, 0=enable)

# ====================
# AUDIO/MEDIA PIPELINE
# ====================
env = PIPEWIRE_RUNTIME_DIR,$XDG_RUNTIME_DIR  # Set PipeWire runtime directory location
env = RTC_USE_PIPEWIRE,true             # Use PipeWire for WebRTC audio/video

# ====================
# ENVIRONMENT VARIABLE NOTES
# ====================
#
# COMMON CUSTOMIZATIONS:
# - Change XCURSOR_SIZE to 32 or 48 for larger cursors
# - Set GTK_THEME instead of using GTK_ICON_THEME if you want full theme control
# - Change SDL_VIDEODRIVER to x11 if Wayland games have issues
# - For NVIDIA GPUs, replace AMD variables with NVIDIA equivalents
# - Remove RADV_PERFTEST=gpl for older AMD GPUs (pre-RDNA)
#
# TOOLKIT BACKENDS:
# - GDK_BACKEND: Controls GTK app display protocol
# - QT_QPA_PLATFORM: Controls Qt app display protocol
# - SDL_VIDEODRIVER: Controls SDL2 game/app display protocol
#
# TROUBLESHOOTING:
# - If apps don't respect themes, check GTK/Qt environment variables
# - If cursors look wrong, verify XCURSOR_THEME is installed
# - If Java apps break, try removing JAVA_TOOL_OPTIONS
# - If games stutter, try SDL_VIDEODRIVER=x11
